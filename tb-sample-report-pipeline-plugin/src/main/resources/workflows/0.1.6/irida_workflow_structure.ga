{"uuid": "3791be7d-5763-48b1-a1fc-f6817fd29391", "tags": [], "format-version": "0.1", "name": "tb-sample-report-pipeline-0.1.6", "version": 2, "steps": {"0": {"tool_id": null, "tool_version": null, "outputs": [], "workflow_outputs": [{"output_name": "output", "uuid": "7970d658-e8a2-42bf-8412-32b858760bcb", "label": null}], "input_connections": {}, "tool_state": "{\"name\": \"reference\"}", "id": 0, "uuid": "a3d63150-d732-4dcd-b251-010adcc05117", "errors": null, "name": "Input dataset", "label": "Reference File", "inputs": [{"name": "reference", "description": ""}], "position": {"top": 200, "left": 200}, "annotation": "", "content_id": null, "type": "data_input"}, "1": {"tool_id": null, "tool_version": null, "outputs": [], "workflow_outputs": [{"output_name": "output", "uuid": "596e2842-bdb8-46b1-ab22-6109f159c3ea", "label": null}], "input_connections": {}, "tool_state": "{\"collection_type\": \"list:paired\"}", "id": 1, "uuid": "cfa90365-2af4-4475-bc54-debca71049d6", "errors": null, "name": "Input dataset collection", "label": "Input Collection", "inputs": [], "position": {"top": 287, "left": 200}, "annotation": "", "content_id": null, "type": "data_collection_input"}, "2": {"tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/snpeff/snpEff_download/4.3+T.galaxy2", "tool_version": "4.3+T.galaxy2", "outputs": [{"type": "snpeffdb", "name": "snpeff_db"}], "workflow_outputs": [], "input_connections": {}, "tool_state": "{\"__page__\": null, \"__rerun_remap_job_id__\": null, \"genome_version\": \"\\\"Mycobacterium_tuberculosis_h37rv\\\"\"}", "id": 2, "tool_shed_repository": {"owner": "iuc", "changeset_revision": "8f92c2b26e6d", "name": "snpeff", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "9065c2a7-3e48-47e6-ac16-369dccb6e799", "errors": null, "name": "SnpEff download:", "post_job_actions": {"RenameDatasetActionsnpeff_db": {"output_name": "snpeff_db", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "h37rv"}}, "HideDatasetActionsnpeff_db": {"output_name": "snpeff_db", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": "snpeff_download", "inputs": [], "position": {"top": 374, "left": 200}, "annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/snpeff/snpEff_download/4.3+T.galaxy2", "type": "tool"}, "3": {"tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/fastp/fastp/0.19.5+galaxy1", "tool_version": "0.19.5+galaxy1", "outputs": [{"type": "input", "name": "output_paired_coll"}, {"type": "input", "name": "out1"}, {"type": "input", "name": "out2"}, {"type": "html", "name": "report_html"}, {"type": "json", "name": "report_json"}], "workflow_outputs": [{"output_name": "out1", "uuid": "f41f41d2-e2f5-412a-a3ab-0a4d402751a0", "label": null}, {"output_name": "out2", "uuid": "2407c1c9-629a-4cce-bd06-a63c3f793c1f", "label": null}, {"output_name": "output_paired_coll", "uuid": "75c3a6d3-3762-43e8-9a1e-dbd5c2c98db6", "label": null}, {"output_name": "report_json", "uuid": "734db487-c664-47b5-97bf-54ce7288ad86", "label": null}, {"output_name": "report_html", "uuid": "7f8db0fe-3ac0-41ac-a8b2-38f964b8e2b5", "label": null}], "input_connections": {"single_paired|paired_input": {"output_name": "output", "id": 1}}, "tool_state": "{\"__page__\": null, \"output_options\": \"{\\\"report_html\\\": \\\"true\\\", \\\"report_json\\\": \\\"false\\\"}\", \"single_paired\": \"{\\\"__current_case__\\\": 2, \\\"adapter_trimming_options\\\": {\\\"adapter_sequence1\\\": \\\"\\\", \\\"adapter_sequence2\\\": \\\"\\\", \\\"disable_adapter_trimming\\\": \\\"false\\\"}, \\\"global_trimming_options\\\": {\\\"trim_front1\\\": \\\"\\\", \\\"trim_front2\\\": \\\"\\\", \\\"trim_tail1\\\": \\\"\\\", \\\"trim_tail2\\\": \\\"\\\"}, \\\"paired_input\\\": {\\\"__class__\\\": \\\"ConnectedValue\\\"}, \\\"single_paired_selector\\\": \\\"paired_collection\\\"}\", \"read_mod_options\": \"{\\\"base_correction_options\\\": {\\\"correction\\\": \\\"false\\\"}, \\\"cutting_by_quality_options\\\": {\\\"cut_by_quality3\\\": \\\"false\\\", \\\"cut_by_quality5\\\": \\\"false\\\", \\\"cut_mean_quality\\\": \\\"\\\", \\\"cut_window_size\\\": \\\"\\\"}, \\\"polyg_tail_trimming\\\": {\\\"__current_case__\\\": 1, \\\"poly_g_min_len\\\": \\\"\\\", \\\"trimming_select\\\": \\\"\\\"}, \\\"polyx_tail_trimming\\\": {\\\"__current_case__\\\": 1, \\\"polyx_trimming_select\\\": \\\"\\\"}, \\\"umi_processing\\\": {\\\"umi\\\": \\\"false\\\", \\\"umi_len\\\": \\\"\\\", \\\"umi_loc\\\": \\\"\\\", \\\"umi_prefix\\\": \\\"\\\"}}\", \"overrepresented_sequence_analysis\": \"{\\\"overrepresentation_analysis\\\": \\\"false\\\", \\\"overrepresentation_sampling\\\": \\\"\\\"}\", \"filter_options\": \"{\\\"length_filtering_options\\\": {\\\"disable_length_filtering\\\": \\\"false\\\", \\\"length_required\\\": \\\"\\\"}, \\\"low_complexity_filter\\\": {\\\"complexity_threshold\\\": \\\"\\\", \\\"enable_low_complexity_filter\\\": \\\"false\\\"}, \\\"quality_filtering_options\\\": {\\\"disable_quality_filtering\\\": \\\"false\\\", \\\"n_base_limit\\\": \\\"\\\", \\\"qualified_quality_phred\\\": \\\"\\\", \\\"unqualified_percent_limit\\\": \\\"\\\"}}\", \"__rerun_remap_job_id__\": null}", "id": 3, "tool_shed_repository": {"owner": "iuc", "changeset_revision": "1d8fe9bc4cb0", "name": "fastp", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "d653a907-879b-41eb-bcef-9796359b9369", "errors": null, "name": "fastp", "post_job_actions": {}, "label": null, "inputs": [], "position": {"top": 200, "left": 528}, "annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/fastp/fastp/0.19.5+galaxy1", "type": "tool"}, "4": {"tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/tbprofiler/tb_profiler_profile/2.6+galaxy0", "tool_version": "2.6+galaxy0", "outputs": [{"type": "json", "name": "results_json"}, {"type": "vcf", "name": "output_vcf"}, {"type": "bam", "name": "output_bam"}, {"type": "pdf", "name": "output_pdf"}, {"type": "txt", "name": "output_txt"}], "workflow_outputs": [], "input_connections": {"fastq_or_bam|fastq_collection": {"output_name": "output_paired_coll", "id": 3}}, "tool_state": "{\"__page__\": null, \"output_format\": \"\\\"txt\\\"\", \"fastq_or_bam\": \"{\\\"__current_case__\\\": 1, \\\"fastq_collection\\\": {\\\"__class__\\\": \\\"ConnectedValue\\\"}, \\\"input_select\\\": \\\"paired_collection_fastq\\\"}\", \"platform\": \"\\\"Illumina\\\"\", \"__rerun_remap_job_id__\": null, \"advanced\": \"{\\\"__current_case__\\\": 0, \\\"options\\\": \\\"no\\\"}\"}", "id": 4, "tool_shed_repository": {"owner": "iuc", "changeset_revision": "19793eecc9f0", "name": "tbprofiler", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "7799790e-011e-4c31-afeb-e52f4e2c51dd", "errors": null, "name": "TB-Profiler Profile", "post_job_actions": {"HideDatasetActionoutput_vcf": {"output_name": "output_vcf", "action_type": "HideDatasetAction", "action_arguments": {}}, "HideDatasetActionoutput_bam": {"output_name": "output_bam", "action_type": "HideDatasetAction", "action_arguments": {}}, "HideDatasetActionresults_json": {"output_name": "results_json", "action_type": "HideDatasetAction", "action_arguments": {}}, "HideDatasetActionoutput_pdf": {"output_name": "output_pdf", "action_type": "HideDatasetAction", "action_arguments": {}}, "HideDatasetActionoutput_txt": {"output_name": "output_txt", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": "tbprofiler", "inputs": [], "position": {"top": 200, "left": 856}, "annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/tbprofiler/tb_profiler_profile/2.6+galaxy0", "type": "tool"}, "5": {"tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/snippy/snippy/4.3.6+galaxy2", "tool_version": "4.3.6+galaxy2", "outputs": [{"type": "vcf", "name": "snpvcf"}, {"type": "gff3", "name": "snpgff"}, {"type": "tabular", "name": "snptab"}, {"type": "tabular", "name": "snpsum"}, {"type": "txt", "name": "snplog"}, {"type": "fasta", "name": "snpalign"}, {"type": "fasta", "name": "snpconsensus"}, {"type": "tabular", "name": "snpsdepth"}, {"type": "bam", "name": "snpsbam"}, {"type": "zip", "name": "outdir"}], "workflow_outputs": [{"output_name": "snpsdepth", "uuid": "7556521c-4777-43c7-a6e6-e162ff6c7123", "label": null}, {"output_name": "outdir", "uuid": "14352591-dd0c-4916-be9d-dc8e6403f380", "label": null}], "input_connections": {"ref": {"output_name": "output", "id": 0}, "fastq_input|fastq_input": {"output_name": "output_paired_coll", "id": 3}}, "tool_state": "{\"adv\": \"{\\\"bwaopt\\\": \\\"\\\", \\\"mapqual\\\": \\\"60\\\", \\\"mincov\\\": \\\"10\\\", \\\"minfrac\\\": \\\"0.9\\\", \\\"minqual\\\": \\\"100.0\\\", \\\"rename_cons\\\": \\\"false\\\", \\\"rgid\\\": \\\"\\\"}\", \"__page__\": null, \"outputs\": \"[\\\"outvcf\\\", \\\"outgff\\\", \\\"outtab\\\", \\\"outsum\\\", \\\"outlog\\\", \\\"outaln\\\", \\\"outcon\\\", \\\"outbam\\\"]\", \"__rerun_remap_job_id__\": null, \"fastq_input\": \"{\\\"__current_case__\\\": 2, \\\"fastq_input\\\": {\\\"__class__\\\": \\\"ConnectedValue\\\"}, \\\"fastq_input_selector\\\": \\\"paired_collection\\\"}\", \"ref\": \"{\\\"__class__\\\": \\\"ConnectedValue\\\"}\"}", "id": 5, "tool_shed_repository": {"owner": "iuc", "changeset_revision": "9bccc8404a3c", "name": "snippy", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "8811a1c3-d79e-45c0-b7f2-5ffb5f025955", "errors": null, "name": "snippy", "post_job_actions": {"HideDatasetActionsnpgff": {"output_name": "snpgff", "action_type": "HideDatasetAction", "action_arguments": {}}, "RenameDatasetActionsnpgff": {"output_name": "snpgff", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "snps_gff_file"}}, "HideDatasetActionsnpsbam": {"output_name": "snpsbam", "action_type": "HideDatasetAction", "action_arguments": {}}, "RenameDatasetActionsnpvcf": {"output_name": "snpvcf", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "snps_vcf_file"}}, "HideDatasetActionsnptab": {"output_name": "snptab", "action_type": "HideDatasetAction", "action_arguments": {}}, "RenameDatasetActionsnptab": {"output_name": "snptab", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "snps_table"}}, "RenameDatasetActionsnplog": {"output_name": "snplog", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "log_file"}}, "RenameDatasetActionsnpconsensus": {"output_name": "snpconsensus", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "consensus_fasta"}}, "HideDatasetActionsnpsum": {"output_name": "snpsum", "action_type": "HideDatasetAction", "action_arguments": {}}, "HideDatasetActionsnpalign": {"output_name": "snpalign", "action_type": "HideDatasetAction", "action_arguments": {}}, "RenameDatasetActionsnpalign": {"output_name": "snpalign", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "aligned_fasta"}}, "HideDatasetActionsnpconsensus": {"output_name": "snpconsensus", "action_type": "HideDatasetAction", "action_arguments": {}}, "RenameDatasetActionsnpsum": {"output_name": "snpsum", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "snps_summary"}}, "HideDatasetActionsnpvcf": {"output_name": "snpvcf", "action_type": "HideDatasetAction", "action_arguments": {}}, "HideDatasetActionsnplog": {"output_name": "snplog", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": "snippy", "inputs": [], "position": {"top": 530, "left": 856}, "annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/snippy/snippy/4.3.6+galaxy2", "type": "tool"}, "6": {"tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sed_tool/1.1.1", "tool_version": "1.1.1", "outputs": [{"type": "input", "name": "output"}], "workflow_outputs": [], "input_connections": {"infile": {"output_name": "snpvcf", "id": 5}}, "tool_state": "{\"adv_opts\": \"{\\\"__current_case__\\\": 0, \\\"adv_opts_selector\\\": \\\"basic\\\"}\", \"__page__\": null, \"__rerun_remap_job_id__\": null, \"code\": \"\\\"/^[^#]/s/^[^\\\\\\\\t]+\\\\\\\\t/Chromosome\\\\\\\\t/\\\"\", \"infile\": \"{\\\"__class__\\\": \\\"ConnectedValue\\\"}\"}", "id": 6, "tool_shed_repository": {"owner": "bgruening", "changeset_revision": "0a8c6b61f0f4", "name": "text_processing", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "3e10ddce-793f-4ecb-b1a3-49aac0ddd967", "errors": null, "name": "Text transformation", "post_job_actions": {"HideDatasetActionoutput": {"output_name": "output", "action_type": "HideDatasetAction", "action_arguments": {}}, "RenameDatasetActionoutput": {"output_name": "output", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "output_vcf"}}}, "label": "snpeff_chromosome", "inputs": [], "position": {"top": 200, "left": 1184}, "annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sed_tool/1.1.1", "type": "tool"}, "7": {"tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/snpeff/snpEff/4.3+T.galaxy1", "tool_version": "4.3+T.galaxy1", "outputs": [{"type": "vcf", "name": "snpeff_output"}, {"type": "html", "name": "statsFile"}, {"type": "csv", "name": "csvFile"}], "workflow_outputs": [{"output_name": "snpeff_output", "uuid": "b78f504b-97c2-4f1b-b4c7-ff826da92a1c", "label": "snpeff_output"}], "input_connections": {"input": {"output_name": "output", "id": 6}, "snpDb|snpeff_db": {"output_name": "snpeff_db", "id": 2}}, "tool_state": "{\"spliceSiteSize\": \"\\\"2\\\"\", \"csvStats\": \"\\\"true\\\"\", \"filterOut\": \"null\", \"input\": \"{\\\"__class__\\\": \\\"ConnectedValue\\\"}\", \"inputFormat\": \"\\\"vcf\\\"\", \"__page__\": null, \"outputConditional\": \"{\\\"__current_case__\\\": 0, \\\"outputFormat\\\": \\\"vcf\\\"}\", \"__rerun_remap_job_id__\": null, \"udLength\": \"\\\"5000\\\"\", \"generate_stats\": \"\\\"true\\\"\", \"spliceRegion\": \"{\\\"__current_case__\\\": 0, \\\"setSpliceRegions\\\": \\\"no\\\"}\", \"chr\": \"\\\"\\\"\", \"intervals\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"annotations\": \"null\", \"snpDb\": \"{\\\"__current_case__\\\": 3, \\\"codon_table\\\": \\\"Standard\\\", \\\"genomeSrc\\\": \\\"custom\\\", \\\"snpeff_db\\\": {\\\"__class__\\\": \\\"ConnectedValue\\\"}}\", \"offset\": \"\\\"default\\\"\", \"noLog\": \"\\\"true\\\"\", \"transcripts\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"filter\": \"{\\\"__current_case__\\\": 0, \\\"specificEffects\\\": \\\"no\\\"}\"}", "id": 7, "tool_shed_repository": {"owner": "iuc", "changeset_revision": "8f92c2b26e6d", "name": "snpeff", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "2acff046-a40f-4cd2-9c8a-79691b41a7f3", "errors": null, "name": "SnpEff eff:", "post_job_actions": {"RenameDatasetActioncsvFile": {"output_name": "csvFile", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "snpeff_csv_stats"}}, "RenameDatasetActionstatsFile": {"output_name": "statsFile", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "snpeff_html_stats"}}, "HideDatasetActioncsvFile": {"output_name": "csvFile", "action_type": "HideDatasetAction", "action_arguments": {}}, "RenameDatasetActionsnpeff_output": {"output_name": "snpeff_output", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "snpeff_output"}}, "HideDatasetActionstatsFile": {"output_name": "statsFile", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": "SnpEff", "inputs": [{"name": "intervals", "description": "runtime parameter for tool SnpEff eff:"}, {"name": "transcripts", "description": "runtime parameter for tool SnpEff eff:"}], "position": {"top": 200, "left": 1443}, "annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/snpeff/snpEff/4.3+T.galaxy1", "type": "tool"}, "8": {"tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/tbvcfreport/tbvcfreport/0.1.7+galaxy0", "tool_version": "0.1.7+galaxy0", "outputs": [{"type": "html", "name": "variants_report_html"}, {"type": "txt", "name": "variants_report_txt"}, {"type": "html", "name": "drug_resistance_report_html"}, {"type": "txt", "name": "drug_resistance_report_txt"}], "workflow_outputs": [{"output_name": "drug_resistance_report_txt", "uuid": "31be9eb0-5ba9-47ee-97ba-f5954e7c4e6f", "label": "txt_dr_report"}, {"output_name": "variants_report_txt", "uuid": "594ce212-0b12-42cb-bcd5-c8638571a133", "label": "txt_variant_report"}, {"output_name": "drug_resistance_report_html", "uuid": "50601f6a-5556-466d-b824-95e08fb08d1c", "label": "html_dr_report"}, {"output_name": "variants_report_html", "uuid": "56b59ad6-c8e1-45b1-9bc3-0082155d46f2", "label": "html_variant_report"}], "input_connections": {"tbprofiler_json": {"output_name": "results_json", "id": 4}, "input_vcf": {"output_name": "snpeff_output", "id": 7}}, "tool_state": "{\"adv\": \"{\\\"database_uri\\\": \\\"neodb.sanbi.ac.za\\\"}\", \"__page__\": null, \"filter_udi\": \"\\\"true\\\"\", \"__rerun_remap_job_id__\": null, \"tbprofiler_json\": \"{\\\"__class__\\\": \\\"ConnectedValue\\\"}\", \"input_vcf\": \"{\\\"__class__\\\": \\\"ConnectedValue\\\"}\"}", "id": 8, "tool_shed_repository": {"owner": "iuc", "changeset_revision": "02d81b994ef5", "name": "tbvcfreport", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "ef858745-ac9d-4f4a-83e0-ad4cf2b10632", "errors": null, "name": "TB Variant Report", "post_job_actions": {"RenameDatasetActionvariants_report_txt": {"output_name": "variants_report_txt", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "txt_variant_report"}}, "RenameDatasetActiondrug_resistance_report_html": {"output_name": "drug_resistance_report_html", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "html_dr_report"}}, "RenameDatasetActionvariants_report_html": {"output_name": "variants_report_html", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "html_variant_report"}}, "RenameDatasetActiondrug_resistance_report_txt": {"output_name": "drug_resistance_report_txt", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "txt_dr_report"}}}, "label": "tbvcfreport", "inputs": [], "position": {"top": 200, "left": 1771}, "annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/tbvcfreport/tbvcfreport/0.1.7+galaxy0", "type": "tool"}}, "annotation": "", "a_galaxy_workflow": "true"}